create table erp_account
(
    id             bigint auto_increment comment '结算账户编号'
        primary key,
    name           varchar(255)                          not null comment '账户名称',
    no             varchar(50)                           null comment '账户编码',
    remark         varchar(255)                          null comment '备注',
    status         tinyint                               not null comment '开启状态',
    sort           int                                   not null comment '排序',
    default_status bit         default b'0'              null comment '是否默认',
    creator        varchar(64) default ''                null comment '创建者',
    create_time    datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater        varchar(64) default ''                null comment '更新者',
    update_time    datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted        bit         default b'0'              not null comment '是否删除',
    tenant_id      bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 结算账户';

create table erp_bookkeeping_voucher
(
    id              bigint auto_increment comment 'id'
        primary key,
    pay_type        varchar(20) collate utf8mb4_unicode_ci                           null comment '记录类型（收款/付款）',
    supplier_id     bigint                                                           null comment '供应商',
    supplier_name   varchar(255)                                                     null comment '供应商名称',
    customer_id     int                                                              null comment '客户ID',
    customer_name   varchar(255)                                                     null comment '客户名称',
    trade_type      varchar(36) collate utf8mb4_unicode_ci                           null comment '交易类型',
    summary         varchar(500) collate utf8mb4_unicode_ci                          null comment '摘要',
    payment_time    datetime                                                         null comment '付款/收款时间',
    bill_number     varchar(255)                                                     null comment '单据编号',
    subject         varchar(255)                                                     null comment '总账科目',
    bill_amount     decimal(24)                                                      null comment '单据金额',
    this_payment    decimal(24)                                                      null comment '本次付款',
    attaches_url    varchar(255)                                                     null comment '纸质凭证',
    pay_amount      decimal(24, 2)                                                   null comment '付款金额',
    bookkeeper      varchar(255)                                                     null comment '记账人',
    advance_payment decimal(24, 2)                                                   null comment '预付款金额',
    pay_way         varchar(255)                                                     null comment '支付方式',
    refund_amount   decimal(24, 2)                                                   null comment '退款金额',
    refund_summary  varchar(255)                                                     null comment '退款摘要',
    remark          varchar(255)                                                     null comment '备注',
    creator         varchar(64) collate utf8mb4_unicode_ci default ''                null comment '创建者',
    create_time     datetime                               default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) collate utf8mb4_unicode_ci default ''                null comment '更新者',
    update_time     datetime                               default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit                                    default b'0'              not null comment '是否删除',
    tenant_id       bigint                                 default 0                 not null comment '租户编号'
)
    charset = utf8mb4;

create table erp_customer
(
    id           bigint auto_increment comment '客户编号'
        primary key,
    name         varchar(255)                          not null comment '客户名称',
    contact      varchar(100)                          null comment '联系人',
    mobile       varchar(30)                           null comment '手机号码',
    telephone    varchar(30)                           null comment '联系电话',
    email        varchar(50)                           null comment '电子邮箱',
    fax          varchar(30)                           null comment '传真',
    remark       varchar(255)                          null comment '备注',
    status       tinyint                               not null comment '开启状态',
    sort         int                                   not null comment '排序',
    tax_no       varchar(50)                           null comment '纳税人识别号',
    tax_percent  decimal(24, 6)                        null comment '税率',
    bank_name    varchar(50)                           null comment '开户行',
    bank_account varchar(50)                           null comment '开户账号',
    bank_address varchar(50)                           null comment '开户地址',
    creator      varchar(64) default ''                null comment '创建者',
    create_time  datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater      varchar(64) default ''                null comment '更新者',
    update_time  datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted      bit         default b'0'              not null comment '是否删除',
    tenant_id    bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 客户表';

create table erp_finance_payment
(
    id              bigint auto_increment comment '编号'
        primary key,
    no              varchar(255)                          not null comment '付款单号',
    status          tinyint                               not null comment '状态',
    payment_time    datetime                              not null comment '付款时间',
    finance_user_id bigint                                null comment '财务人员编号',
    supplier_id     bigint                                not null comment '供应商编号',
    account_id      bigint                                not null comment '付款账户编号',
    total_price     decimal(24, 6)                        not null comment '合计价格，单位：元',
    discount_price  decimal(24, 6)                        not null comment '优惠金额，单位：元',
    payment_price   decimal(24, 6)                        not null comment '实付金额，单位：分',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 付款单表';

create table erp_finance_payment_item
(
    id            bigint auto_increment comment '编号'
        primary key,
    payment_id    bigint                                not null comment '付款单编号',
    biz_type      tinyint                               not null comment '业务类型',
    biz_id        bigint                                not null comment '业务编号',
    biz_no        varchar(255)                          not null comment '业务单号',
    total_price   decimal(24, 6)                        not null comment '应付欠款，单位：分',
    paid_price    decimal(24, 6)                        not null comment '已付欠款，单位：分',
    payment_price decimal(24, 6)                        not null comment '本次付款，单位：分',
    remark        varchar(1024)                         null comment '备注',
    creator       varchar(64) default ''                null comment '创建者',
    create_time   datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater       varchar(64) default ''                null comment '更新者',
    update_time   datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted       bit         default b'0'              not null comment '是否删除',
    tenant_id     bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 付款项表';

create table erp_finance_receipt
(
    id              bigint auto_increment comment '编号'
        primary key,
    no              varchar(255)                          not null comment '收款单号',
    status          tinyint                               not null comment '状态',
    receipt_time    datetime                              not null comment '收款时间',
    finance_user_id bigint                                null comment '财务人员编号',
    customer_id     bigint                                not null comment '客户编号',
    account_id      bigint                                not null comment '收款账户编号',
    total_price     decimal(24, 6)                        not null comment '合计价格，单位：元',
    discount_price  decimal(24, 6)                        not null comment '优惠金额，单位：元',
    receipt_price   decimal(24, 6)                        not null comment '实收金额，单位：分',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 收款单表';

create table erp_finance_receipt_item
(
    id              bigint auto_increment comment '编号'
        primary key,
    receipt_id      bigint                                not null comment '收款单编号',
    biz_type        tinyint                               not null comment '业务类型',
    biz_id          bigint                                not null comment '业务编号',
    biz_no          varchar(255)                          not null comment '业务单号',
    total_price     decimal(24, 6)                        not null comment '应收金额，单位：分',
    receipted_price decimal(24, 6)                        not null comment '已收金额，单位：分',
    receipt_price   decimal(24, 6)                        not null comment '本次收款，单位：分',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 收款项表';

create table erp_product
(
    id             bigint auto_increment comment '产品编号'
        primary key,
    name           varchar(100)                          not null comment '产品名称',
    bar_code       varchar(50)                           not null comment '产品条码',
    category_id    bigint                                not null comment '产品分类编号',
    unit_id        int                                   not null comment '单位编号',
    status         tinyint                               not null comment '产品状态',
    standard       varchar(100)                          null comment '产品规格',
    remark         varchar(500)                          null comment '产品备注',
    expiry_day     int                                   null comment '保质期天数',
    weight         decimal(24, 6)                        null comment '基础重量（kg）',
    purchase_price decimal(24, 6)                        null comment '采购价格，单位：元',
    sale_price     decimal(24, 6)                        null comment '销售价格，单位：元',
    min_price      decimal(24, 6)                        null comment '最低价格，单位：元',
    creator        varchar(64) default ''                null comment '创建者',
    create_time    datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater        varchar(64) default ''                null comment '更新者',
    update_time    datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted        bit         default b'0'              not null comment '是否删除',
    tenant_id      bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 产品表';

create table erp_product_category
(
    id          bigint auto_increment comment '分类编号'
        primary key,
    parent_id   bigint                                not null comment '父分类编号',
    name        varchar(255)                          not null comment '分类名称',
    code        varchar(100)                          not null comment '分类编码',
    sort        int         default 0                 null comment '分类排序',
    status      tinyint                               not null comment '开启状态',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 产品分类';

create table erp_product_unit
(
    id          bigint auto_increment comment '单位编号'
        primary key,
    name        varchar(50)                           not null comment '单位名字',
    status      tinyint                               not null comment '单位状态',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 产品单位表';

create table erp_purchase_in
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '采购入库编号',
    status              tinyint                                  not null comment '采购状态',
    supplier_id         bigint                                   not null comment '供应商编号',
    account_id          bigint                                   not null comment '结算账户编号',
    in_time             datetime                                 not null comment '入库时间',
    order_id            bigint                                   not null comment '采购订单编号',
    order_no            varchar(255)                             not null comment '采购订单号',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    payment_price       decimal(24, 6) default 0.000000          not null comment '已付款金额，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    other_price         decimal(24, 6) default 0.000000          not null comment '其它金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 采购入库表';

create table erp_purchase_in_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    in_id           bigint                                not null comment '采购入库编号',
    order_item_id   bigint                                not null comment '采购订单项编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位单位',
    product_price   decimal(24, 6)                        not null comment '产品单价',
    count           decimal(24, 6)                        not null comment '数量',
    total_price     decimal(24, 6)                        not null comment '总价',
    tax_percent     decimal(24, 6)                        null comment '税率，百分比',
    tax_price       decimal(24, 6)                        null comment '税额，单位：元',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 销售入库项表';

create table erp_purchase_order
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '采购单编号',
    status              tinyint                                  not null comment '采购状态',
    supplier_id         bigint                                   not null comment '供应商编号',
    account_id          bigint                                   null comment '结算账户编号',
    order_time          datetime                                 not null comment '采购时间',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    deposit_price       decimal(24, 6) default 0.000000          not null comment '定金金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    in_count            decimal(24, 6) default 0.000000          not null comment '采购入库数量',
    return_count        decimal(24, 6) default 0.000000          not null comment '采购退货数量',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 采购订单表';

create table erp_purchase_order_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    order_id        bigint                                   not null comment '采购订单编号',
    product_id      bigint                                   not null comment '产品编号',
    product_unit_id bigint                                   not null comment '产品单位单位',
    product_price   decimal(24, 6)                           not null comment '产品单价',
    count           decimal(24, 6)                           not null comment '数量',
    total_price     decimal(24, 6)                           not null comment '总价',
    tax_percent     decimal(24, 6)                           null comment '税率，百分比',
    tax_price       decimal(24, 6)                           null comment '税额，单位：元',
    remark          varchar(1024)                            null comment '备注',
    in_count        decimal(24, 6) default 0.000000          not null comment '采购入库数量',
    return_count    decimal(24, 6) default 0.000000          not null comment '采购退货数量',
    creator         varchar(64)    default ''                null comment '创建者',
    create_time     datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64)    default ''                null comment '更新者',
    update_time     datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit            default b'0'              not null comment '是否删除',
    tenant_id       bigint         default 0                 not null comment '租户编号'
)
    comment 'ERP 采购订单项表';

create table erp_purchase_return
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '采购退货编号',
    status              tinyint                                  not null comment '退货状态',
    supplier_id         bigint                                   not null comment '供应商编号',
    account_id          bigint                                   not null comment '结算账户编号',
    return_time         datetime                                 not null comment '退货时间',
    order_id            bigint                                   not null comment '采购订单编号',
    order_no            varchar(255)                             not null comment '采购订单号',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    refund_price        decimal(24, 6) default 0.000000          not null comment '已退款金额，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    other_price         decimal(24, 6) default 0.000000          not null comment '其它金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 采购退货表';

create table erp_purchase_return_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    return_id       bigint                                not null comment '采购退货编号',
    order_item_id   bigint                                not null comment '采购订单项编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位单位',
    product_price   decimal(24, 6)                        not null comment '产品单价',
    count           decimal(24, 6)                        not null comment '数量',
    total_price     decimal(24, 6)                        not null comment '总价',
    tax_percent     decimal(24, 6)                        null comment '税率，百分比',
    tax_price       decimal(24, 6)                        null comment '税额，单位：元',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 采购退货项表';

create table erp_sale_order
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '销售单编号',
    status              tinyint                                  not null comment '销售状态',
    customer_id         bigint                                   not null comment '客户编号',
    account_id          bigint                                   null comment '结算账户编号',
    sale_user_id        bigint                                   null comment '销售用户编号',
    order_time          datetime                                 not null comment '下单时间',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    deposit_price       decimal(24, 6) default 0.000000          not null comment '定金金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    out_count           decimal(24, 6) default 0.000000          not null comment '销售出库数量',
    return_count        decimal(24, 6) default 0.000000          not null comment '销售退货数量',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 销售订单表';

create table erp_sale_order_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    order_id        bigint                                   not null comment '销售订单编号',
    product_id      bigint                                   not null comment '产品编号',
    product_unit_id bigint                                   not null comment '产品单位单位',
    product_price   decimal(24, 6)                           null comment '产品单价',
    count           decimal(24, 6)                           not null comment '数量',
    total_price     decimal(24, 6)                           null comment '总价',
    tax_percent     decimal(24, 6)                           null comment '税率，百分比',
    tax_price       decimal(24, 6)                           null comment '税额，单位：元',
    remark          varchar(1024)                            null comment '备注',
    out_count       decimal(24, 6) default 0.000000          not null comment '销售出库数量',
    return_count    decimal(24, 6) default 0.000000          not null comment '销售退货数量',
    creator         varchar(64)    default ''                null comment '创建者',
    create_time     datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64)    default ''                null comment '更新者',
    update_time     datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit            default b'0'              not null comment '是否删除',
    tenant_id       bigint         default 0                 not null comment '租户编号'
)
    comment 'ERP 销售订单项表';

create table erp_sale_out
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '销售出库编号',
    status              tinyint                                  not null comment '出库状态',
    customer_id         bigint                                   not null comment '客户编号',
    account_id          bigint                                   not null comment '结算账户编号',
    sale_user_id        bigint                                   null comment '销售用户编号',
    out_time            datetime                                 not null comment '出库时间',
    order_id            bigint                                   not null comment '销售订单编号',
    order_no            varchar(255)                             not null comment '销售订单号',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    receipt_price       decimal(24, 6) default 0.000000          not null comment '已收款金额，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    other_price         decimal(24, 6) default 0.000000          not null comment '其它金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 销售出库表';

create table erp_sale_out_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    out_id          bigint                                not null comment '销售出库编号',
    order_item_id   bigint                                not null comment '销售订单项编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位单位',
    product_price   decimal(24, 6)                        not null comment '产品单价',
    count           decimal(24, 6)                        not null comment '数量',
    total_price     decimal(24, 6)                        not null comment '总价',
    tax_percent     decimal(24, 6)                        null comment '税率，百分比',
    tax_price       decimal(24, 6)                        null comment '税额，单位：元',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 销售出库项表';

create table erp_sale_return
(
    id                  bigint auto_increment comment '编号'
        primary key,
    no                  varchar(255)                             not null comment '销售退货编号',
    status              tinyint                                  not null comment '退货状态',
    customer_id         bigint                                   not null comment '客户编号',
    account_id          bigint                                   not null comment '结算账户编号',
    sale_user_id        bigint                                   null comment '销售用户编号',
    return_time         datetime                                 not null comment '退货时间',
    order_id            bigint                                   not null comment '销售订单编号',
    order_no            varchar(255)                             not null comment '销售订单号',
    total_count         decimal(24, 6)                           not null comment '合计数量',
    total_price         decimal(24, 6)                           not null comment '合计价格，单位：元',
    refund_price        decimal(24, 6) default 0.000000          not null comment '已退款金额，单位：元',
    total_product_price decimal(24, 6)                           not null comment '合计产品价格，单位：元',
    total_tax_price     decimal(24, 6)                           not null comment '合计税额，单位：元',
    discount_percent    decimal(24, 6)                           not null comment '优惠率，百分比',
    discount_price      decimal(24, 6)                           not null comment '优惠金额，单位：元',
    other_price         decimal(24, 6) default 0.000000          not null comment '其它金额，单位：元',
    file_url            varchar(512)                             null comment '附件地址',
    remark              varchar(1024)                            null comment '备注',
    creator             varchar(64)    default ''                null comment '创建者',
    create_time         datetime       default CURRENT_TIMESTAMP not null comment '创建时间',
    updater             varchar(64)    default ''                null comment '更新者',
    update_time         datetime       default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted             bit            default b'0'              not null comment '是否删除',
    tenant_id           bigint         default 0                 not null comment '租户编号',
    constraint no
        unique (no)
)
    comment 'ERP 销售退货表';

create table erp_sale_return_items
(
    id              bigint auto_increment comment '编号'
        primary key,
    return_id       bigint                                not null comment '销售退货编号',
    order_item_id   bigint                                not null comment '销售订单项编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位单位',
    product_price   decimal(24, 6)                        not null comment '产品单价',
    count           decimal(24, 6)                        not null comment '数量',
    total_price     decimal(24, 6)                        not null comment '总价',
    tax_percent     decimal(24, 6)                        null comment '税率，百分比',
    tax_price       decimal(24, 6)                        null comment '税额，单位：元',
    remark          varchar(1024)                         null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 销售退货项表';

create table erp_stock
(
    id           bigint auto_increment comment '编号'
        primary key,
    product_id   bigint                                not null comment '产品编号',
    warehouse_id bigint                                not null comment '仓库编号',
    count        decimal(24, 6)                        not null comment '库存数量',
    creator      varchar(64) default ''                null comment '创建者',
    create_time  datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater      varchar(64) default ''                null comment '更新者',
    update_time  datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted      bit         default b'0'              not null comment '是否删除',
    tenant_id    bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 产品库存表';

create table erp_stock_check
(
    id          bigint auto_increment comment '盘点编号'
        primary key,
    no          varchar(255)                          not null comment '盘点单号',
    check_time  datetime                              not null comment '盘点时间',
    total_count decimal(24, 6)                        not null comment '合计数量',
    total_price decimal(24, 6)                        not null comment '合计金额，单位：元',
    status      tinyint                               not null comment '状态',
    remark      varchar(255)                          null comment '备注',
    file_url    varchar(255)                          null comment '附件 URL',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 库存盘点单表';

create table erp_stock_check_item
(
    id              bigint auto_increment comment '盘点项编号'
        primary key,
    check_id        bigint                                not null comment '盘点编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位编号',
    product_price   decimal(24, 6)                        null comment '产品单价',
    stock_count     decimal(24, 6)                        not null comment '账面数量（当前库存）',
    actual_count    decimal(24, 6)                        not null comment '实际数量（实际库存）',
    count           decimal(24, 6)                        not null comment '盈亏数量',
    total_price     decimal(24, 6)                        null comment '合计金额，单位：元',
    remark          varchar(255)                          null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 库存盘点项表';

create table erp_stock_in
(
    id          bigint auto_increment comment '入库编号'
        primary key,
    no          varchar(255)                          not null comment '入库单号',
    supplier_id bigint                                null comment '供应商编号',
    in_time     datetime                              not null comment '入库时间',
    total_count decimal(24, 6)                        not null comment '合计数量',
    total_price decimal(24, 6)                        not null comment '合计金额，单位：元',
    status      tinyint                               not null comment '状态',
    remark      varchar(255)                          null comment '备注',
    file_url    varchar(255)                          null comment '附件 URL',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 其它入库单表';

create table erp_stock_in_item
(
    id              bigint auto_increment comment '入库项编号'
        primary key,
    in_id           bigint                                not null comment '入库编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位编号',
    product_price   decimal(24, 6)                        null comment '产品单价',
    count           decimal(24, 6)                        not null comment '产品数量',
    total_price     decimal(24, 6)                        null comment '合计金额，单位：元',
    remark          varchar(255)                          null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 其它入库单项表';

create table erp_stock_move
(
    id          bigint auto_increment comment '调拨编号'
        primary key,
    no          varchar(255)                          not null comment '调拨单号',
    move_time   datetime                              not null comment '调拨时间',
    total_count decimal(24, 6)                        not null comment '合计数量',
    total_price decimal(24, 6)                        not null comment '合计金额，单位：元',
    status      tinyint                               not null comment '状态',
    remark      varchar(255)                          null comment '备注',
    file_url    varchar(255)                          null comment '附件 URL',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 库存调拨单表';

create table erp_stock_move_item
(
    id                bigint auto_increment comment '调拨项编号'
        primary key,
    move_id           bigint                                not null comment '调拨编号',
    from_warehouse_id bigint                                not null comment '调出仓库编号',
    to_warehouse_id   bigint                                not null comment '调入仓库编号',
    product_id        bigint                                not null comment '产品编号',
    product_unit_id   bigint                                not null comment '产品单位编号',
    product_price     decimal(24, 6)                        null comment '产品单价',
    count             decimal(24, 6)                        not null comment '产品数量',
    total_price       decimal(24, 6)                        null comment '合计金额，单位：元',
    remark            varchar(255)                          null comment '备注',
    creator           varchar(64) default ''                null comment '创建者',
    create_time       datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater           varchar(64) default ''                null comment '更新者',
    update_time       datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted           bit         default b'0'              not null comment '是否删除',
    tenant_id         bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 库存调拨项表';

create table erp_stock_out
(
    id          bigint auto_increment comment '出库编号'
        primary key,
    no          varchar(255)                          not null comment '出库单号',
    customer_id bigint                                null comment '客户编号',
    out_time    datetime                              not null comment '出库时间',
    total_count decimal(24, 6)                        not null comment '合计数量',
    total_price decimal(24, 6)                        not null comment '合计金额，单位：元',
    status      tinyint                               not null comment '状态',
    remark      varchar(255)                          null comment '备注',
    file_url    varchar(255)                          null comment '附件 URL',
    creator     varchar(64) default ''                null comment '创建者',
    create_time datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater     varchar(64) default ''                null comment '更新者',
    update_time datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted     bit         default b'0'              not null comment '是否删除',
    tenant_id   bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 其它入库单表';

create table erp_stock_out_item
(
    id              bigint auto_increment comment '出库项编号'
        primary key,
    out_id          bigint                                not null comment '出库编号',
    warehouse_id    bigint                                not null comment '仓库编号',
    product_id      bigint                                not null comment '产品编号',
    product_unit_id bigint                                not null comment '产品单位编号',
    product_price   decimal(24, 6)                        null comment '产品单价',
    count           decimal(24, 6)                        not null comment '产品数量',
    total_price     decimal(24, 6)                        null comment '合计金额，单位：元',
    remark          varchar(255)                          null comment '备注',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 其它出库单项表';

create table erp_stock_record
(
    id           bigint auto_increment comment '编号'
        primary key,
    product_id   bigint                                not null comment '产品编号',
    warehouse_id bigint                                not null comment '仓库编号',
    count        decimal(24, 6)                        not null comment '出入库数量',
    total_count  decimal(24, 6)                        not null comment '总库存量',
    biz_type     tinyint                               not null comment '业务类型',
    biz_id       bigint                                not null comment '业务编号',
    biz_item_id  bigint                                not null comment '业务项编号',
    biz_no       varchar(255)                          not null comment '业务单号',
    creator      varchar(64) default ''                null comment '创建者',
    create_time  datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater      varchar(64) default ''                null comment '更新者',
    update_time  datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted      bit         default b'0'              not null comment '是否删除',
    tenant_id    bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 产品库存明细表';

create table erp_supplier
(
    id           bigint auto_increment comment '供应商编号'
        primary key,
    name         varchar(255)                          not null comment '供应商名称',
    contact      varchar(100)                          null comment '联系人',
    mobile       varchar(30)                           null comment '手机号码',
    telephone    varchar(30)                           null comment '联系电话',
    email        varchar(50)                           null comment '电子邮箱',
    fax          varchar(30)                           null comment '传真',
    remark       varchar(255)                          null comment '备注',
    status       tinyint                               not null comment '开启状态',
    sort         int                                   not null comment '排序',
    tax_no       varchar(50)                           null comment '纳税人识别号',
    tax_percent  decimal(24, 6)                        null comment '税率',
    bank_name    varchar(50)                           null comment '开户行',
    bank_account varchar(50)                           null comment '开户账号',
    bank_address varchar(50)                           null comment '开户地址',
    creator      varchar(64) default ''                null comment '创建者',
    create_time  datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater      varchar(64) default ''                null comment '更新者',
    update_time  datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted      bit         default b'0'              not null comment '是否删除',
    tenant_id    bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 供应商表';

create table erp_warehouse
(
    id              bigint auto_increment comment '仓库编号'
        primary key,
    name            varchar(20)                           not null comment '仓库名称',
    address         varchar(50)                           null comment '仓库地址',
    sort            bigint                                not null comment '排序',
    remark          varchar(100)                          null comment '备注',
    principal       varchar(20)                           null comment '负责人',
    warehouse_price decimal(24, 6)                        null comment '仓储费，单位：元',
    truckage_price  decimal(24, 6)                        null comment '搬运费，单位：元',
    status          tinyint                               not null comment '开启状态',
    default_status  bit         default b'0'              null comment '是否默认',
    creator         varchar(64) default ''                null comment '创建者',
    create_time     datetime    default CURRENT_TIMESTAMP not null comment '创建时间',
    updater         varchar(64) default ''                null comment '更新者',
    update_time     datetime    default CURRENT_TIMESTAMP not null on update CURRENT_TIMESTAMP comment '更新时间',
    deleted         bit         default b'0'              not null comment '是否删除',
    tenant_id       bigint      default 0                 not null comment '租户编号'
)
    comment 'ERP 仓库表';

