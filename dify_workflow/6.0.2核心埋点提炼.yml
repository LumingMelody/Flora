app:
  description: Ê†∏ÂøÉÂüãÁÇπÊèêÁÇº
  icon: üíé
  icon_background: '#D5F5F6'
  mode: workflow
  name: 6.0.2Ê†∏ÂøÉÂüãÁÇπÊèêÁÇº
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.1.3@08f25a10c0617a3512fac091a0f0d894925357e965efe40fdf95cb48e09b62d1
    version: null
kind: app
version: 0.4.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: http-request
        targetType: end
      id: edge-http-to-end
      source: http-save
      sourceHandle: source
      target: end
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: llm
      id: start-source-1765187599015-target
      source: start
      sourceHandle: source
      target: '1765187599015'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1765187599015-source-1765249398680-target
      source: '1765187599015'
      sourceHandle: source
      target: '1765249398680'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: http-request
      id: 1765249398680-source-http-save-target
      source: '1765249398680'
      sourceHandle: source
      target: http-save
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ËæìÂÖ•‰∫ßÂìÅÂíå‰ºÅ‰∏ö‰ø°ÊÅØ
        selected: false
        title: ÂºÄÂßã
        type: start
        variables:
        - label: ‰∫ßÂìÅÂêç
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: e_product_id_name
        - label: ‰∫ßÂìÅÁÆÄ‰ªã
          max_length: 256
          options: []
          required: true
          type: paragraph
          variable: e_product_id_detail
        - label: ‰∫ßÂìÅÂ∫èÂè∑
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: e_product_id
        - label: ‰ºÅ‰∏öÂêç
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: e_company_name
        - label: ‰ºÅ‰∏öÂπ¥Êî∂ÂÖ•
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: e_company_revenue
        - label: Á´ûÂìÅÂàÜÊûêÁªìÊûú
          max_length: 4096
          options: []
          required: true
          type: paragraph
          variable: competitive_analysis_result
        - label: Áî®Êà∑id
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: user_id
        - label: ÁßüÊà∑id
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: tenant_id
        - label: ‰ªªÂä°id
          max_length: 48
          options: []
          required: true
          type: text-input
          variable: taskId
      height: 324
      id: start
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      type: custom
      width: 242
    - data:
        authorization:
          type: no-auth
        body:
          data:
          - id: key-value-1
            key: ''
            type: text
            value: "{\n  \"productId\":\"{{#start.e_product_id#}}\",\n  \"workflowTaskId\"\
              :\"{{#start.taskId#}}\",\n  \"valueDescription\":\"{{#1765187599015.structured_output.valueDescription#}}\"\
              ,\n  \"painPoints\":\"{{#1765249398680.painPoints#}}\",\n  \"keyFeatures\"\
              :\"{{#1765249398680.keyFeatures#}}\",\n  \"uniqueSellingPoints\":\"\
              {{#1765249398680.uniqueSellingPoints#}}\",\n  \"customerBenefits\":\"\
              {{#1765249398680.customerBenefits#}}\",\n  \"valueMetrics\":\"{{#1765249398680.valueMetrics#}}\"\
              \n}"
          type: json
        desc: ‰øùÂ≠òÊ†∏ÂøÉ‰ª∑ÂÄºÁÇπÁªìÊûúÂà∞ÂêéÁ´Ø
        headers: 'Authorization:test{{#start.user_id#}}

          tenant-id:{{#start.tenant_id#}}'
        method: post
        params: ''
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          connect: 10
          read: 60
          write: 60
        title: ‰øùÂ≠òÂà∞ÂêéÁ´Ø
        type: http-request
        url: https://agent.cstlanbaai.com/gateway/admin-api/scrm/pma-value-points/create
      height: 182
      id: http-save
      position:
        x: 944
        y: 282
      positionAbsolute:
        x: 944
        y: 282
      selected: false
      type: custom
      width: 242
    - data:
        desc: ËæìÂá∫ÁªìÊûú
        outputs:
        - value_selector:
          - http-save
          - body
          value_type: string
          variable: value_points_result
        selected: false
        title: ÁªìÊùü
        type: end
      height: 116
      id: end
      position:
        x: 1231
        y: 282
      positionAbsolute:
        x: 1231
        y: 282
      selected: false
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen3-max
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 168e7d56-9518-4a47-a765-6f46a3e17426
          role: system
          text: "###ÁõÆÊ†áÔºö\n‰Ω†‰Ωú‰∏∫‰∏Ä‰∏™ÊàêÁÜüÁöÑÂ∏ÇÂú∫ÂàÜÊûêÂ∏àÔºåÁî®Êà∑Êúâ‰∏ÄÊ¨æ‰∫ßÂìÅÔºåËØ∑Ê†πÊçÆÁî®Êà∑Êèê‰æõÁöÑ‰∫ßÂìÅÊèèËø∞ÂíåÂêåÁ±ªÁ´ûÂìÅÊèèËø∞ÔºåÂàÜÊûêÂπ∂Á°ÆÂÆöËØ•‰∫ßÂìÅÁöÑ‰∏ªË¶Å‰ª∑ÂÄºÁÇπ„ÄÇ‰ª∑ÂÄºÁÇπÊåáÁöÑÊòØ‰∫ßÂìÅËÉΩÂ§üËß£ÂÜ≥ÁöÑÂ∏ÇÂú∫ÁóõÁÇπÊàñÊª°Ë∂≥ÁöÑÈúÄÊ±Ç„ÄÇËæìÂá∫Â∫îÂåÖÊã¨ÂØπËØ•‰∫ßÂìÅ‰ª∑ÂÄºÁÇπÁöÑËØ¶ÁªÜÊèèËø∞„ÄÇ\n\
            \n###ËæìÂá∫Ë¶ÅÊ±ÇÔºö\nËØ∑‰ª•JSONÊ†ºÂºèËæìÂá∫ÔºåÂøÖÈ°ªÂåÖÂê´‰ª•‰∏ãÂ≠óÊÆµÔºö\n- productId: ‰∫ßÂìÅÂ∫èÂè∑Ôºà‰ªéÁî®Êà∑ËæìÂÖ•Ëé∑ÂèñÔºâ\n- workflowTaskId:\
            \ ‰ªªÂä°IDÔºà‰ªéÁî®Êà∑ËæìÂÖ•Ëé∑ÂèñÔºâ\n- valueDescription: ‰∫ßÂìÅ‰ª∑ÂÄºÁÇπÊï¥‰ΩìÊèèËø∞\n- painPoints: Ëß£ÂÜ≥ÁöÑÁóõÁÇπÂàóË°®\n\
            - keyFeatures: ÂÖ≥ÈîÆÁâπÊÄßÂàóË°®\n- uniqueSellingPoints: Áã¨ÁâπÂçñÁÇπÂàóË°®\n- customerBenefits:\
            \ ÂÆ¢Êà∑Êî∂ÁõäÂàóË°®\n- valueMetrics: ‰ª∑ÂÄºË°°ÈáèÊåáÊ†áÂàóË°®\n\n###ËæìÂá∫Ê†ºÂºèÁ§∫‰æãÔºö\n{\n  \"productId\":\
            \ \"‰∫ßÂìÅÂ∫èÂè∑\",\n  \"workflowTaskId\": \"‰ªªÂä°ID\",\n  \"valueDescription\":\
            \ \"‰∫ßÂìÅ‰ª∑ÂÄºÁÇπÊï¥‰ΩìÊèèËø∞\",\n  \"painPoints\": [\"Ëß£ÂÜ≥ÁöÑÁóõÁÇπ1\", \"Ëß£ÂÜ≥ÁöÑÁóõÁÇπ2\"],\n  \"keyFeatures\"\
            : [\"ÂÖ≥ÈîÆÁâπÊÄß1\", \"ÂÖ≥ÈîÆÁâπÊÄß2\"],\n  \"uniqueSellingPoints\": [\"Áã¨ÁâπÂçñÁÇπ1\", \"Áã¨ÁâπÂçñÁÇπ2\"\
            ],\n  \"customerBenefits\": [\"ÂÆ¢Êà∑Êî∂Áõä1\", \"ÂÆ¢Êà∑Êî∂Áõä2\"],\n  \"valueMetrics\"\
            : [\"‰ª∑ÂÄºË°°ÈáèÊåáÊ†á1\", \"‰ª∑ÂÄºË°°ÈáèÊåáÊ†á2\"]\n}\n\n###ÊÄùËÄÉÊ≠•È™§Ôºö\n1. ÁêÜËß£‰∫ßÂìÅÊèèËø∞ - ÈòÖËØªÂπ∂ÁêÜËß£‰∫ßÂìÅÊèèËø∞ÁöÑÂÖ∑‰ΩìÂÜÖÂÆπ\n\
            2. ËØÜÂà´ÂÖ≥ÈîÆÁâπÊÄß‰∏éÂäüËÉΩ - ÊèêÂèñ‰∫ßÂìÅÁöÑ‰∏ªË¶ÅÁâπÊÄßÂíåÂäüËÉΩ\n3. ÂàÜÊûêÂ∏ÇÂú∫ÈúÄÊ±Ç‰∏éÁóõÁÇπ - Ê†πÊçÆ‰∫ßÂìÅÁâπÊÄßÔºåÂàÜÊûêÂ∏ÇÂú∫‰∏äÂ≠òÂú®ÁöÑÁõ∏ÂÖ≥ÈúÄÊ±ÇÂíåÁóõÁÇπ\n4.\
            \ ÂåπÈÖç‰∫ßÂìÅ‰ª∑ÂÄºÁÇπ - Â∞Ü‰∫ßÂìÅÁâπÊÄß‰∏éÂ∏ÇÂú∫ÈúÄÊ±ÇÂíåÁóõÁÇπËøõË°åÂåπÈÖçÔºåÁ°ÆÂÆö‰∫ßÂìÅÂ¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∫õÈóÆÈ¢ò\n5. ËæìÂá∫ÁªìÊûú - ËøîÂõû‰∫ßÂìÅ‰ª∑ÂÄºÁÇπÊèèËø∞\n"
        - id: bf8d8058-59a1-4c0e-9ef6-2cf816887429
          role: user
          text: '‰ª•‰∏ãÊòØ‰ºÅ‰∏öÂíå‰∫ßÂìÅ‰ø°ÊÅØÔºö

            - ‰∫ßÂìÅÂ∫èÂè∑Ôºö{{#start.e_product_id#}}

            - ‰ªªÂä°IDÔºö{{#start.taskId#}}

            - ‰∫ßÂìÅÂêçÁß∞Ôºö{{#start.e_product_id_name#}}

            - ‰ºÅ‰∏öÂêçÁß∞Ôºö{{#start.e_company_name#}}

            - ‰ºÅ‰∏öÂπ¥Ëê•Êî∂ËßÑÊ®°Ôºö{{#start.e_company_revenue#}}ÂÖÉ

            - ‰∫ßÂìÅ‰∏ªË¶ÅÂäüËÉΩÔºö{{#start.e_product_id_detail#}}


            „ÄêÁ´ûÂìÅÂàÜÊûêÁªìÊûú„ÄëÔºö

            {{#start.competitive_analysis_result#}}


            ËØ∑Âü∫‰∫é‰ª•‰∏äÁ´ûÂìÅÂàÜÊûêÁªìÊûúÊèêÁÇºÊ†∏ÂøÉ‰ª∑ÂÄºÁÇπÂíåÂüãÁÇπ„ÄÇÊ≥®ÊÑèÔºöËæìÂá∫JSONÂøÖÈ°ªÂåÖÂê´productIdÂíåworkflowTaskIdÂ≠óÊÆµ„ÄÇ

            '
        selected: false
        structured_output:
          schema:
            additionalProperties: false
            properties:
              customerBenefits:
                items:
                  type: string
                type: array
              keyFeatures:
                items:
                  type: string
                type: array
              painPoints:
                items:
                  type: string
                type: array
              productId:
                type: string
              uniqueSellingPoints:
                items:
                  type: string
                type: array
              valueDescription:
                type: string
              valueMetrics:
                items:
                  type: string
                type: array
              workflowTaskId:
                type: string
            required:
            - productId
            - workflowTaskId
            - valueDescription
            - painPoints
            - keyFeatures
            - uniqueSellingPoints
            - customerBenefits
            - valueMetrics
            type: object
        structured_output_enabled: true
        title: Ê†∏ÂøÉÂüãÁÇπÊèêÁÇº
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1765187599015'
      position:
        x: 382
        y: 282
      positionAbsolute:
        x: 382
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\ndef main(painPoints: list, keyFeatures: list, uniqueSellingPoints:\
          \ list, customerBenefits: list, valueMetrics: list) -> dict:\n    result\
          \ = {\n        \"painPoints\": \"\",\n        \"keyFeatures\": \"\",\n \
          \       \"uniqueSellingPoints\": \"\",\n        \"customerBenefits\": \"\
          \",\n        \"valueMetrics\": \"\"\n    }\n    try:\n        json_str =\
          \ json.dumps(painPoints, ensure_ascii=False, separators=(',', ':'))\n  \
          \      result[\"painPoints\"] = json.dumps(json_str, ensure_ascii=False)\n\
          \        json_str = json.dumps(keyFeatures, ensure_ascii=False, separators=(',',\
          \ ':'))\n        result[\"keyFeatures\"] = json.dumps(json_str, ensure_ascii=False)\n\
          \        json_str = json.dumps(uniqueSellingPoints, ensure_ascii=False,\
          \ separators=(',', ':'))\n        result[\"uniqueSellingPoints\"] = json.dumps(json_str,\
          \ ensure_ascii=False)\n        json_str = json.dumps(customerBenefits, ensure_ascii=False,\
          \ separators=(',', ':'))\n        result[\"customerBenefits\"] = json.dumps(json_str,\
          \ ensure_ascii=False)\n        json_str = json.dumps(valueMetrics, ensure_ascii=False,\
          \ separators=(',', ':'))\n        result[\"valueMetrics\"] = json.dumps(json_str,\
          \ ensure_ascii=False)\n    except Exception as e:\n        pass\n    return\
          \ result\n"
        code_language: python3
        outputs:
          customerBenefits:
            children: null
            type: string
          keyFeatures:
            children: null
            type: string
          painPoints:
            children: null
            type: string
          uniqueSellingPoints:
            children: null
            type: string
          valueMetrics:
            children: null
            type: string
        selected: true
        title: ‰ª£Á†ÅÊâßË°å 2
        type: code
        variables:
        - value_selector:
          - '1765187599015'
          - structured_output
          - painPoints
          value_type: object
          variable: painPoints
        - value_selector:
          - '1765187599015'
          - structured_output
          - keyFeatures
          value_type: object
          variable: keyFeatures
        - value_selector:
          - '1765187599015'
          - structured_output
          - uniqueSellingPoints
          value_type: object
          variable: uniqueSellingPoints
        - value_selector:
          - '1765187599015'
          - structured_output
          - customerBenefits
          value_type: object
          variable: customerBenefits
        - value_selector:
          - '1765187599015'
          - structured_output
          - valueMetrics
          value_type: object
          variable: valueMetrics
      height: 52
      id: '1765249398680'
      position:
        x: 658
        y: 282
      positionAbsolute:
        x: 658
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -300.0000000000002
      y: 267.49999999999994
      zoom: 1.0000000000000002
  rag_pipeline_variables: []
